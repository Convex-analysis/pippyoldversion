<?xml version="1.0" encoding="utf-8"?>
<model name="VisionEncoder_Small">
    <components>
        <!-- Smaller version - approx 60% of original capacity -->
        <component name="RGB_Backbone_Shallow" flops_per_sample="1.8e9" capacity="0.6e9" />
        <component name="RGB_Backbone_Deep" flops_per_sample="3.0e9" capacity="0.9e9" />
        
        <component name="Lidar_Backbone_Shallow" flops_per_sample="2.4e9" capacity="0.7e9" />
        <component name="Lidar_Backbone_Deep" flops_per_sample="3.6e9" capacity="1.1e9" />
        
        <component name="TransformerEncoder_Layer1" flops_per_sample="1.1e9" capacity="0.3e9" />
        <component name="TransformerEncoder_Layer2" flops_per_sample="1.1e9" capacity="0.3e9" />
        <component name="TransformerEncoder_Layer3" flops_per_sample="0.8e9" capacity="0.3e9" />
        
        <component name="TransformerDecoder_Layer1" flops_per_sample="1.1e9" capacity="0.35e9" />
        <component name="TransformerDecoder_Layer2" flops_per_sample="1.1e9" capacity="0.35e9" />
        <component name="TransformerDecoder_Layer3" flops_per_sample="1.1e9" capacity="0.35e9" />
        
        <component name="PredictionHeads_Traffic" flops_per_sample="0.3e9" capacity="0.15e9" />
        <component name="PredictionHeads_Waypoints" flops_per_sample="0.3e9" capacity="0.15e9" />
    </components>
    <partitions>
        <partition name="ShallowFeatureExtraction" communication_volume="0.4e9">
            <component_ref name="RGB_Backbone_Shallow" />
            <component_ref name="Lidar_Backbone_Shallow" />
        </partition>
        
        <partition name="RGB_DeepProcessing" communication_volume="0.3e9">
            <component_ref name="RGB_Backbone_Deep" />
        </partition>
        
        <partition name="Lidar_DeepProcessing" communication_volume="0.3e9">
            <component_ref name="Lidar_Backbone_Deep" />
        </partition>
        
        <partition name="EncoderFusion_Early" communication_volume="0.25e9">
            <component_ref name="TransformerEncoder_Layer1" />
        </partition>
        
        <partition name="EncoderFusion_Middle" communication_volume="0.2e9">
            <component_ref name="TransformerEncoder_Layer2" />
        </partition>
        
        <partition name="EncoderFusion_Late" communication_volume="0.2e9">
            <component_ref name="TransformerEncoder_Layer3" />
        </partition>
        
        <partition name="DecoderProcessing_Early" communication_volume="0.25e9">
            <component_ref name="TransformerDecoder_Layer1" />
        </partition>
        
        <partition name="DecoderProcessing_Late" communication_volume="0.2e9">
            <component_ref name="TransformerDecoder_Layer2" />
            <component_ref name="TransformerDecoder_Layer3" />
        </partition>
        
        <partition name="PredictionOutputs" communication_volume="0.12e9">
            <component_ref name="PredictionHeads_Traffic" />
            <component_ref name="PredictionHeads_Waypoints" />
        </partition>
    </partitions>
</model>
